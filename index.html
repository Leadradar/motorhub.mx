```html
<!doctype html>
<html lang="es-MX">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>MotoUrbano MX — Equipo y accesorios para motociclistas</title>
    <meta name="description" content="Equipo y accesorios para motociclistas, precios claros y soporte por WhatsApp. Devoluciones en 14 días." />
    <meta name="theme-color" content="#ffffff" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="MotoUrbano MX" />
    <meta property="og:description" content="Equipo y accesorios para motociclistas." />
    <meta property="og:image" content="https://leadradar.github.io/motorhub.mx/img/hero.jpg" />
    <link rel="icon" href="favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png" />
    <link rel="manifest" href="site.webmanifest" />
    <link rel="alternate" hreflang="es-MX" href="https://motourbano.shop" />
    <link rel="preload" href="img/hero.jpg" as="image" />
    <link rel="preload" href="img/logo.png" as="image" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #ffffff; --elev: #ffffff; --ink: #0b0b0b; --muted: #5d5d5d; --line: #e9e9e9;
            --accent: #cf0a0a; --accent-weak: #fbecec; --shadow: 0 10px 30px rgba(0,0,0,.08);
            --header-pad-y: 14px; --header-logo: 84px; --header-title: 22px; --header-h: 220px;
        }
        * { box-sizing: border-box; }
        html, body { margin: 0; padding: 0; background: var(--bg); color: var(--ink); font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; }
        img { display: block; max-width: 100%; height: auto; -webkit-user-drag: none; user-drag: none; }
        a { color: inherit; text-decoration: none; }
        button { font: inherit; cursor: pointer; }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 28px; }
        .grid { display: grid; gap: 16px; }
        @media (min-width: 700px) { .grid.cols-2 { grid-template-columns: repeat(2, 1fr); } }
        @media (min-width: 900px) { .grid.cols-3 { grid-template-columns: repeat(3, 1fr); } .grid.cols-4 { grid-template-columns: repeat(4, 1fr); } .grid.cols-5 { grid-template-columns: repeat(5, 1fr); } }
        .card { background: var(--elev); border: 1px solid var(--line); border-radius: 18px; overflow: hidden; }
        .shadow { box-shadow: var(--shadow); }
        .hover-effect { transition: border-color .15s, box-shadow .15s, background .15s; }
        .hover-effect:hover { background: var(--accent-weak); border-color: var(--accent); box-shadow: inset 0 0 0 2px var(--accent-weak); }
        header.site { position: sticky; top: 0; z-index: 40; background: #fff; border-bottom: 1px solid var(--line); transition: padding .18s ease, box-shadow .18s ease; }
        .header-wrap { display: flex; flex-direction: column; align-items: center; gap: 8px; padding: var(--header-pad-y) 0; }
        .brand-stack { display: flex; flex-direction: column; align-items: center; gap: 6px; }
        .brand-stack img { height: var(--header-logo); width: auto; transition: height .18s ease; }
        .brand-title { font: 800 var(--header-title)/1 Poppins, system-ui; text-align: center; transition: font-size .18s ease; }
        .flag-mx { margin-top: 2px; }
        .flag-mx svg { width: 22px; height: 14px; display: block; }
        nav.menu { display: flex; flex-wrap: wrap; gap: 12px; justify-content: center; margin-top: 6px; }
        nav.menu a { padding: 6px 10px; border-radius: 10px; color: #333; font-size: 14px; border: 1px solid transparent; transition: background .15s, border-color .15s, box-shadow .15s; }
        nav.menu a:hover, nav.menu a.is-active { background: var(--accent-weak); border-color: var(--accent); box-shadow: inset 0 0 0 2px var(--accent-weak); }
        nav.menu a:focus-visible { outline: 2px solid var(--accent); }
        #cartBtn { font-weight: 700; }
        @media (max-width: 640px) { :root { --header-pad-y: 8px; --header-logo: 60px; --header-title: 18px; } nav.menu { gap: 8px; } nav.menu a { padding: 5px 8px; font-size: 13px; } }
        header.site.is-scrolled { box-shadow: 0 6px 18px rgba(0,0,0,.06); }
        header.site.is-scrolled .brand-stack img { height: 52px; }
        header.site.is-scrolled .brand-title { font-size: 18px; }
        header.site.is-scrolled .header-wrap { padding: 8px 0; }
        section { scroll-margin-top: calc(var(--header-h) + 8px); content-visibility: auto; contain-intrinsic-size: auto 600px; }
        .hero { border-bottom: 1px solid var(--line); background: #fff; }
        .hero .wrap { display: flex; flex-direction: column; align-items: center; gap: 14px; padding: 36px 0; }
        .hero .logo-big img { width: clamp(220px, 5vw, 400px); height: auto; }
        h1 { font-family: Poppins, system-ui; font-weight: 800; letter-spacing: .2px; font-size: clamp(30px, 5vw, 52px); line-height: 1.04; margin: .05em 0 .1em; text-align: center; }
        .hero-sub { font-size: clamp(14px, 2.2vw, 18px); color: #333; margin: 2px 0 6px; text-align: center; }
        h2 { font-size: clamp(22px, 3.6vw, 34px); margin: 0 0 10px; text-align: center; }
        .sub { color: var(--muted); text-align: center; }
        .chips-row { display: flex; flex-wrap: wrap; gap: 12px; align-items: center; justify-content: center; margin-top: 14px; }
        .chip { display: inline-flex; align-items: center; gap: 8px; background: #fff; border: 1px solid var(--line); color: #333; padding: 8px 12px; border-radius: 12px; white-space: nowrap; }
        #categorias h2, #categorias .sub { text-align: center; }
        .tile { position: relative; border-radius: 16px; overflow: hidden; border: 1px solid var(--line); background: #fff; cursor: pointer; transition: box-shadow .15s, border-color .15s; }
        .tile img { width: 100%; height: 200px; object-fit: cover; }
        .tile .label { position: absolute; left: 50%; bottom: 10px; transform: translateX(-50%); background: #000000b3; padding: 8px 10px; border-radius: 10px; color: #fff; font-weight: 800; }
        .tile:hover { border-color: var(--accent); box-shadow: inset 0 0 0 2px var(--accent-weak); }
        #productos { padding-bottom: 30px; }
        #productos .filters { display: flex; justify-content: center; gap: 10px; flex-wrap: wrap; margin: 12px 0 6px; }
        .pill { border: 1px solid #000; background: #fff; border-radius: 999px; padding: 8px 12px; cursor: pointer; transition: border-color .15s, box-shadow .15s, background .15s; }
        .pill:hover, .pill.is-active { background: var(--accent-weak); border-color: var(--accent); box-shadow: inset 0 0 0 2px var(--accent-weak); }
        #gridProds { justify-items: center; padding: 0 8px; }
        .prod { display: flex; flex-direction: column; cursor: pointer; transition: box-shadow .15s, border-color .15s; width: 100%; max-width: 500px; margin: 0 4px; border: 1px solid var(--line); border-radius: 18px; }
        .prod .img-wrap { position: relative; width: 100%; }
        .prod .img-wrap img { aspect-ratio: 1/1; object-fit: cover; background: #f4f4f4 url('img/placeholder.jpg') center/cover no-repeat; width: 100%; height: auto; display: block; transition: opacity .18s ease; }
        .prod .img-wrap .hover-img { position: absolute; inset: 0; opacity: 0; }
        .prod.ready:hover .img-wrap .hover-img { opacity: 1; }
        .prod.ready:hover .img-wrap .base-img { opacity: 0; }
        .prod .pad { padding: 12px; text-align: center; }
        .prod .title { font-weight: 700; line-height: 1.25; margin: 0 0 6px; font-size: 16px; }
        .prod .meta { display: flex; justify-content: center; align-items: center; gap: 10px; }
        .price-badge { display: inline-block; background: var(--accent-weak); border: 1px solid var(--accent); border-radius: 999px; padding: 6px 10px; font-weight: 800; }
        .stars { color: #000; font-size: 13px; }
        .prod:hover { border-color: var(--accent); box-shadow: inset 0 0 0 2px var(--accent-weak); }
        .hidden { display: none !important; }
        .btn { display: inline-flex; align-items: center; gap: 8px; background: #fff; color: #000; border: 1px solid var(--accent); border-radius: 12px; padding: 10px 14px; cursor: pointer; transition: background .15s, border-color .15s, box-shadow .15s; }
        .btn:hover { background: var(--accent-weak); border-color: var(--accent); box-shadow: inset 0 0 0 2px var(--accent-weak); }
        .close { border: none; background: #f3f3f3; border-radius: 10px; padding: 8px 10px; cursor: pointer; }
        .modal { position: fixed; inset: 0; background: rgba(0,0,0,.5); display: none; align-items: center; justify-content: center; padding: 16px; z-index: 60; opacity: 0; transition: opacity .3s ease; }
        .modal.open { display: flex; opacity: 1; }
        .modal-card { background: #fff; border-radius: 18px; max-width: 1120px; width: min(96vw, 1120px); max-height: 92vh; display: flex; flex-direction: column; overflow: hidden; border: 1px solid var(--line); margin: auto; role: "dialog"; aria-modal: "true"; }
        .modal-head { display: flex; justify-content: space-between; align-items: center; padding: 12px 16px; border-bottom: 1px solid var(--line); }
        .modal-title { font: 700 18px/1.2 Poppins, system-ui; }
        .modal-body { display: grid; gap: 16px; padding: 16px; overflow: auto; align-items: start; }
        @media (min-width: 900px) { .modal-body.prod { grid-template-columns: 60% 40%; } }
        .media-wrap { position: relative; }
        .m-main { width: 100%; max-height: 80vh; object-fit: contain; border-radius: 12px; background: #f7f7f7; cursor: zoom-in; }
        .m-main.is-loading { background: linear-gradient(90deg, #f3f3f3 25%, #e9e9e9 37%, #f3f3f3 63%); background-size: 400% 100%; animation: sheen 1.2s infinite; }
        @keyframes sheen { 0% { background-position: 100% 0; } 100% { background-position: 0 0; } }
        .nav-arrow { position: absolute; top: 50%; transform: translateY(-50%); background: #ffffffcc; border: 1px solid var(--line); border-radius: 12px; padding: 8px 10px; cursor: pointer; }
        .nav-arrow.prev { left: 8px; }
        .nav-arrow.next { right: 8px; }
        .thumbs { display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; margin-top: 8px; }
        .thumbs img { width: 100%; height: 84px; object-fit: cover; border-radius: 10px; border: 2px solid transparent; cursor: pointer; background: #fafafa; }
        .thumbs img.active { border-color: #000; }
        .detail-col { display: flex; flex-direction: column; align-items: flex-start; }
        .badge-price { display: inline-block; background: var(--accent-weak); border: 1px solid var(--accent); border-radius: 999px; padding: 10px 14px; font: 800 22px/1 Poppins, system-ui; margin: 0 0 12px; }
        .features { list-style: none; padding: 0; margin: 0 0 16px; }
        .features li { position: relative; padding-left: 22px; margin: 8px 0; }
        .features li::before { content: ""; position: absolute; left: 0; top: 7px; width: 10px; height: 10px; border-radius: 50%; background: var(--accent-weak); border: 1px solid var(--accent); }
        .lightbox { position: fixed; inset: 0; background: #000000eb; display: none; align-items: center; justify-content: center; z-index: 80; touch-action: none; opacity: 0; transition: opacity .3s ease; }
        .lightbox.open { display: flex; opacity: 1; }
        .lightbox img { max-width: 95vw; max-height: 95vh; object-fit: contain; transform-origin: center center; transition: transform .06s linear; }
        .lightbox .x { position: absolute; top: 14px; right: 14px; background: #ffffff22; color: #fff; border: 1px solid #ffffff55; border-radius: 10px; padding: 8px 10px; cursor: pointer; }
        .lightbox .arrow { position: absolute; top: 50%; transform: translateY(-50%); background: #ffffff22; color: #fff; border: 1px solid #ffffff55; border-radius: 10px; padding: 10px 12px; cursor: pointer; }
        .lightbox .arrow.prev { left: 14px; }
        .lightbox .arrow.next { right: 14px; }
        .cart { position: fixed; inset: 0; background: rgba(0,0,0,.5); display: none; align-items: center; justify-content: center; padding: 16px; z-index: 65; opacity: 0; transition: opacity .3s ease; }
        .cart.open { display: flex; opacity: 1; }
        .cart-card { background: #fff; border-radius: 18px; max-width: 760px; width: 96%; max-height: 92vh; display: flex; flex-direction: column; overflow: hidden; border: 1px solid var(--line); }
        .cart-head { display: flex; justify-content: space-between; align-items: center; padding: 12px 16px; border-bottom: 1px solid var(--line); }
        .cart-head strong { font: 700 18px/1.2 Poppins, system-ui; }
        .cart-body { padding: 12px 16px; overflow: auto; }
        .cart-item { display: grid; grid-template-columns: auto 1fr auto; gap: 10px; align-items: center; border-bottom: 1px solid var(--line); padding: 10px 0; }
        .cart-item img { width: 60px; height: 60px; object-fit: cover; border-radius: 10px; }
        .cart-item .qtyline { display: inline-flex; align-items: center; border: 1px solid var(--line); border-radius: 10px; overflow: hidden; }
        .cart-item .qtyline button { background: #f6f6f6; border: none; padding: 6px 10px; cursor: pointer; }
        .cart-item .qtyline button:hover { background: var(--accent-weak); border-left: 1px solid var(--accent); }
        .cart-item .qtyline input { width: 44px; text-align: center; border: none; padding: 6px; }
        .cart-foot { display: flex; justify-content: space-between; align-items: center; padding: 12px 16px; border-top: 1px solid var(--line); gap: 10px; flex-wrap: wrap; }
        #cTotal { display: inline-block; background: var(--accent-weak); border: 1px solid var(--accent); border-radius: 999px; padding: 6px 10px; }
        footer.site { margin-top: 48px; border-top: 1px solid var(--line); background: #fff; }
        .footer-head { display: flex; flex-direction: column; align-items: center; gap: 6px; padding: 18px 0 6px; }
        .footer-head img { height: 72px; width: auto; }
        .footer-name { font: 800 18px/1.1 Poppins, system-ui; text-align: center; }
        .footer-tag { color: #666; text-align: center; margin-top: 2px; }
        .copy { padding: 10px 0 20px; color: #666; text-align: center; }
        .footer-legal { display: flex; gap: 8px; align-items: center; justify-content: center; flex-wrap: wrap; }
        .footer-legal .dot { opacity: .35; }
        .footer-legal a { padding: 4px 6px; border-radius: 8px; transition: background .15s, border-color .15s, box-shadow .15s; border: 1px solid transparent; }
        .footer-legal a:hover { background: var(--accent-weak); border-color: var(--accent); box-shadow: inset 0 0 0 2px var(--accent-weak); }
        .contact-grid { display: grid; gap: 16px; grid-template-columns: 1fr; max-width: 900px; margin: 16px auto 0; }
        @media (min-width: 900px) { .contact-grid { grid-template-columns: repeat(3, 1fr); } }
        .contact-item { border: 1px solid var(--line); border-radius: 16px; padding: 18px 16px; text-align: center; transition: box-shadow .15s, border-color .15s; }
        .contact-item strong { display: block; font: 700 18px/1.2 Poppins, system-ui; margin-bottom: 8px; }
        .contact-item .sub { line-height: 1.6; margin-bottom: 12px; }
        .contact-item a.btn { display: inline-block; margin-top: 2px; border: 1px solid var(--accent); }
        .contact-item a.btn:hover { background: var(--accent-weak); border-color: var(--accent); box-shadow: inset 0 0 0 2px var(--accent-weak); }
        .contact-item:hover { border-color: var(--accent); box-shadow: inset 0 0 0 2px var(--accent-weak); }
        #faq details { border: 1px solid var(--line); border-radius: 12px; margin: 10px 0; padding: 10px; background: #f6f6f6; transition: border-color .15s, box-shadow .15s; }
        #faq details:hover { border-color: var(--accent); box-shadow: inset 0 0 0 2px var(--accent-weak); }
        #faq summary { cursor: pointer; font-weight: 700; }
        #faq .answer { margin-top: 8px; }
        .floating-wa { position: fixed; right: 16px; bottom: 16px; width: 64px; height: 64px; display: flex; align-items: center; justify-content: center; z-index: 45; cursor: pointer; }
        .floating-wa img { width: 64px; height: 64px; display: block; }
        .trustbar { display: flex; justify-content: center; gap: 12px; flex-wrap: wrap; }
        .modal-body.prod { display: flex; flex-direction: column; gap: 20px; }
        @media (min-width: 900px) { .modal-body.prod { flex-direction: row; align-items: center; } }
        .media-wrap { flex: 1; display: flex; flex-direction: column; }
        .detail-col { flex: 1; align-items: center; text-align: center; }
        .m-main { flex: 1; object-fit: contain; width: 100%; height: auto; }
        .thumbs { justify-content: center; }
        .features { list-style: none; padding: 0; margin: 0 0 16px; text-align: left; }
        .features li { position: relative; padding-left: 22px; margin: 8px 0; width: fit-content; margin-left: auto; margin-right: auto; }
        .no-results { text-align: center; color: var(--muted); padding: 20px; }
    </style>
</head>
<body>
    <header class="site" id="siteHeader">
        <div class="container">
            <div class="header-wrap">
                <div class="brand-stack">
                    <picture>
                        <source srcset="img/logo.webp" type="image/webp">
                        <img src="img/logo.png" alt="Logo de MotoUrbano MX" loading="lazy">
                    </picture>
                    <div class="brand-title">MotoUrbano MX</div>
                </div>
                <nav class="menu">
                    <a href="#inicio" class="is-active">Inicio</a>
                    <a href="#categorias">Categorías</a>
                    <a href="#productos">Productos</a>
                    <a href="#faq">FAQ</a>
                    <a href="#contacto">Contacto</a>
                    <a href="#" id="cartBtn">Carrito (<span id="cartCount">0</span>)</a>
                </nav>
            </div>
        </div>
    </header>
    <main>
        <section class="hero" id="inicio">
            <div class="container">
                <div class="wrap">
                    <div class="logo-big">
                        <picture>
                            <source srcset="img/hero.webp" type="image/webp">
                            <img src="img/hero.jpg" alt="Equipo y accesorios para motociclistas en MotoUrbano MX" loading="lazy">
                        </picture>
                    </div>
                    <h1>Equipo y accesorios para motociclistas</h1>
                    <p class="hero-sub">Precios claros, soporte por WhatsApp, devoluciones en 14 días.</p>
                    <div class="chips-row">
                        <div class="chip">Envíos a todo México</div>
                        <div class="chip">Soporte 24/7</div>
                        <div class="chip">Calidad garantizada</div>
                    </div>
                </div>
            </div>
        </section>
        <section id="categorias">
            <div class="container">
                <h2>Categorías</h2>
                <p class="sub">Explora nuestro catálogo de accesorios para motos</p>
                <div class="grid cols-2 cols-5">
                    <div class="tile js-cat hover-effect" data-cat="bolsas" tabindex="0" role="button" aria-label="Ver categoría Bolsas">
                        <picture>
                            <source srcset="img/cat-bolsas.webp" type="image/webp">
                            <img src="img/cat-bolsas.jpg" alt="Categoría de bolsas traseras para motocicletas" loading="lazy">
                        </picture>
                        <span class="label">Bolsas</span>
                    </div>
                    <div class="tile js-cat hover-effect" data-cat="chalecos" tabindex="0" role="button" aria-label="Ver categoría Chalecos">
                        <picture>
                            <source srcset="img/cat-chalecos.webp" type="image/webp">
                            <img src="img/cat-chalecos.jpg" alt="Categoría de chalecos reflectantes para motociclistas" loading="lazy">
                        </picture>
                        <span class="label">Chalecos</span>
                    </div>
                    <div class="tile js-cat hover-effect" data-cat="guantes" tabindex="0" role="button" aria-label="Ver categoría Guantes">
                        <picture>
                            <source srcset="img/cat-guantes.webp" type="image/webp">
                            <img src="img/cat-guantes.jpg" alt="Categoría de guantes urbanos para verano" loading="lazy">
                        </picture>
                        <span class="label">Guantes</span>
                    </div>
                    <div class="tile js-cat hover-effect" data-cat="rinoneras" tabindex="0" role="button" aria-label="Ver categoría Riñoneras">
                        <picture>
                            <source srcset="img/cat-rinoneras.webp" type="image/webp">
                            <img src="img/cat-rinoneras.jpg" alt="Categoría de riñoneras impermeables para motociclistas" loading="lazy">
                        </picture>
                        <span class="label">Riñoneras</span>
                    </div>
                    <div class="tile js-cat hover-effect" data-cat="soportes" tabindex="0" role="button" aria-label="Ver categoría Soportes">
                        <picture>
                            <source srcset="img/cat-soportes.webp" type="image/webp">
                            <img src="img/cat-soportes.jpg" alt="Categoría de soportes antivibración para motos" loading="lazy">
                        </picture>
                        <span class="label">Soportes</span>
                    </div>
                </div>
            </div>
        </section>
        <section id="productos">
            <div class="container">
                <h2>Productos</h2>
                <p class="sub">Encuentra lo que necesitas para tu moto</p>
                <div class="filters" id="filters">
                    <div class="pill is-active" data-cat="all" tabindex="0" role="button" aria-label="Mostrar todos los productos">Todos</div>
                    <div class="pill" data-cat="bolsas" tabindex="0" role="button" aria-label="Filtrar por Bolsas">Bolsas</div>
                    <div class="pill" data-cat="chalecos" tabindex="0" role="button" aria-label="Filtrar por Chalecos">Chalecos</div>
                    <div class="pill" data-cat="guantes" tabindex="0" role="button" aria-label="Filtrar por Guantes">Guantes</div>
                    <div class="pill" data-cat="rinoneras" tabindex="0" role="button" aria-label="Filtrar por Riñoneras">Riñoneras</div>
                    <div class="pill" data-cat="soportes" tabindex="0" role="button" aria-label="Filtrar por Soportes">Soportes</div>
                </div>
                <div class="grid cols-3" id="gridProds">
                    <article class="prod hover-effect" data-name="Bolsa Trasera Impermeable" data-price="$650 MXN" data-main="img/bolsa-trasera-impermeable-01.jpg" data-gallery='["img/bolsa-trasera-impermeable-02.jpg"]' data-desc="Impermeable · Capacidad 20L · Fácil instalación" data-cat="bolsas" tabindex="0" role="button" aria-label="Ver detalles de Bolsa Trasera Impermeable">
                        <div class="img-wrap">
                            <picture>
                                <source srcset="img/bolsa-trasera-impermeable-01.webp" type="image/webp">
                                <img class="base-img" src="img/bolsa-trasera-impermeable-01.jpg" alt="Bolsa trasera impermeable para moto, vista principal" loading="lazy">
                            </picture>
                        </div>
                        <div class="pad">
                            <div class="title">Bolsa Trasera Impermeable</div>
                            <div class="meta">
                                <span class="price-badge">$650 MXN</span>
                            </div>
                        </div>
                    </article>
                    <article class="prod hover-effect" data-name="Chaleco Fosforito" data-price="$350 MXN" data-main="img/chaleco-fosforito-01.jpg" data-gallery='["img/chaleco-fosforito-02.jpg"]' data-desc="Alta visibilidad · Talla universal · Material resistente" data-cat="chalecos" tabindex="0" role="button" aria-label="Ver detalles de Chaleco Fosforito">
                        <div class="img-wrap">
                            <picture>
                                <source srcset="img/chaleco-fosforito-01.webp" type="image/webp">
                                <img class="base-img" src="img/chaleco-fosforito-01.jpg" alt="Chaleco reflectante fosforito para motociclistas, vista frontal" loading="lazy">
                            </picture>
                        </div>
                        <div class="pad">
                            <div class="title">Chaleco Fosforito</div>
                            <div class="meta">
                                <span class="price-badge">$350 MXN</span>
                            </div>
                        </div>
                    </article>
                    <article class="prod hover-effect" data-name="Guantes Urbanos Verano" data-price="$450 MXN" data-main="img/guantes-urbanos-verano-01.jpg" data-gallery='["img/guantes-urbanos-verano-02.jpg"]' data-desc="Transpirables · Protección reforzada · Diseño ergonómico" data-cat="guantes" tabindex="0" role="button" aria-label="Ver detalles de Guantes Urbanos Verano">
                        <div class="img-wrap">
                            <picture>
                                <source srcset="img/guantes-urbanos-verano-01.webp" type="image/webp">
                                <img class="base-img" src="img/guantes-urbanos-verano-01.jpg" alt="Guantes urbanos para verano, vista principal" loading="lazy">
                            </picture>
                        </div>
                        <div class="pad">
                            <div class="title">Guantes Urbanos Verano</div>
                            <div class="meta">
                                <span class="price-badge">$450 MXN</span>
                            </div>
                        </div>
                    </article>
                    <article class="prod hover-effect" data-name="Riñonera Impermeable" data-price="$400 MXN" data-main="img/rinonera-impermeable-01.jpg" data-gallery='["img/rinonera-impermeable-02.jpg","img/rinonera-impermeable-03.jpg","img/rinonera-impermeable-04.jpg","img/rinonera-impermeable-05.jpg"]' data-desc="Impermeable · Múltiples compartimentos · Cinturón ajustable" data-cat="rinoneras" tabindex="0" role="button" aria-label="Ver detalles de Riñonera Impermeable">
                        <div class="img-wrap">
                            <picture>
                                <source srcset="img/rinonera-impermeable-01.webp" type="image/webp">
                                <img class="base-img" src="img/rinonera-impermeable-01.jpg" alt="Riñonera impermeable para motociclistas, vista frontal" loading="lazy">
                            </picture>
                        </div>
                        <div class="pad">
                            <div class="title">Riñonera Impermeable</div>
                            <div class="meta">
                                <span class="price-badge">$400 MXN</span>
                            </div>
                        </div>
                    </article>
                    <article class="prod hover-effect" data-name="Soporte Antivibración" data-price="$300 MXN" data-main="img/soporte-antivibracion-01.jpg" data-gallery='["img/soporte-antivibracion-02.jpg","img/soporte-antivibracion-03.jpg","img/soporte-antivibracion-04.jpg"]' data-desc="Antivibración · Compatible con múltiples dispositivos · Instalación rápida" data-cat="soportes" tabindex="0" role="button" aria-label="Ver detalles de Soporte Antivibración">
                        <div class="img-wrap">
                            <picture>
                                <source srcset="img/soporte-antivibracion-01.webp" type="image/webp">
                                <img class="base-img" src="img/soporte-antivibracion-01.jpg" alt="Soporte antivibración para moto, vista principal" loading="lazy">
                            </picture>
                        </div>
                        <div class="pad">
                            <div class="title">Soporte Antivibración</div>
                            <div class="meta">
                                <span class="price-badge">$300 MXN</span>
                            </div>
                        </div>
                    </article>
                </div>
            </div>
        </section>
        <section id="faq">
            <div class="container">
                <h2>Preguntas Frecuentes</h2>
                <p class="sub">Respuestas a tus dudas comunes</p>
                <details>
                    <summary>¿Cuáles son los tiempos de envío?</summary>
                    <div class="answer">Envíos a todo México en 10-20 días hábiles.</div>
                </details>
                <details>
                    <summary>¿Cómo puedo devolver un producto?</summary>
                    <div class="answer">Tienes 14 días para devoluciones sin uso.</div>
                </details>
                <!-- Añade más FAQs según sea necesario -->
            </div>
        </section>
        <section id="contacto">
            <div class="container">
                <h2>Contacto</h2>
                <p class="sub">Estamos aquí para ayudarte</p>
                <div class="contact-grid">
                    <div class="contact-item hover-effect">
                        <strong>WhatsApp</strong>
                        <p class="sub">Respuesta rápida</p>
                        <a href="https://wa.me/+521234567890" class="btn">Chatea ahora</a>
                    </div>
                    <div class="contact-item hover-effect">
                        <strong>Email</strong>
                        <p class="sub">hola@motourbano.shop</p>
                        <button class="btn" data-action="copy-email">Copiar email</button>
                    </div>
                    <div class="contact-item hover-effect">
                        <strong>Políticas</strong>
                        <p class="sub">Lee nuestros términos</p>
                        <a href="#" class="btn" data-legal-key="terminos">Ver términos</a>
                    </div>
                </div>
            </div>
        </section>
    </main>
    <footer class="site">
        <div class="container">
            <div class="footer-head">
                <img src="img/logo.png" alt="Logo de MotoUrbano MX en footer" loading="lazy">
                <div class="footer-name">MotoUrbano MX</div>
                <div class="footer-tag">Equipo y accesorios para motociclistas</div>
            </div>
            <div class="footer-legal">
                <a href="#" data-legal-key="privacidad">Privacidad</a>
                <span class="dot">•</span>
                <a href="#" data-legal-key="terminos">Términos</a>
                <span class="dot">•</span>
                <a href="#" data-legal-key="devoluciones">Devoluciones</a>
                <span class="dot">•</span>
                <a href="#" data-legal-key="envios">Envíos</a>
            </div>
            <div class="copy">© 2025 MotoUrbano MX. Todos los derechos reservados.</div>
        </div>
    </footer>
    <a href="https://wa.me/+521234567890?text=¡Hola! Quiero información sobre accesorios para motos." class="floating-wa" aria-label="Contactar por WhatsApp">
        <picture>
            <source srcset="img/whatsapp.webp" type="image/webp">
            <img src="img/whatsapp.png" alt="Ícono de WhatsApp para contacto rápido" loading="lazy">
        </picture>
    </a>
    <div id="modal" class="modal" role="dialog" aria-modal="true" aria-label="Modal de producto">
        <div class="modal-card">
            <div class="modal-head">
                <strong id="mTitle" class="modal-title">Título del producto</strong>
                <button class="close x" aria-label="Cerrar modal">×</button>
            </div>
            <div class="modal-body prod">
                <div class="media-wrap">
                    <img id="mMain" class="m-main" src="" alt="" loading="lazy">
                    <button id="mPrev" class="nav-arrow prev" aria-label="Imagen anterior">‹</button>
                    <button id="mNext" class="nav-arrow next" aria-label="Imagen siguiente">›</button>
                    <div id="mThumbs" class="thumbs"></div>
                </div>
                <div class="detail-col">
                    <span id="mPrice" class="badge-price">$0 MXN</span>
                    <ul id="mDesc" class="features"></ul>
                    <div class="qtyline">
                        <button id="qMinus" type="button" aria-label="Disminuir cantidad">−</button>
                        <input id="qInput" type="number" min="1" value="1" aria-label="Cantidad del producto">
                        <button id="qPlus" type="button" aria-label="Aumentar cantidad">+</button>
                    </div>
                    <button id="mAdd" class="btn">Añadir al carrito</button>
                </div>
            </div>
        </div>
    </div>
    <div id="cart" class="cart" role="dialog" aria-modal="true" aria-label="Modal de carrito">
        <div class="cart-card">
            <div class="cart-head">
                <strong>Tu carrito</strong>
                <button class="close x" aria-label="Cerrar carrito">×</button>
            </div>
            <div id="cBody" class="cart-body"></div>
            <div class="cart-foot">
                <button id="cClear" class="btn">Vaciar carrito</button>
                <span id="cTotal">$0 MXN</span>
                <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
                    <input type="hidden" name="cmd" value="_xclick">
                    <input type="hidden" name="business" id="ppBusiness" value="tu-correo-paypal@ejemplo.com">
                    <input type="hidden" name="item_name" value="Compra en MotoUrbano MX">
                    <input type="hidden" name="amount" id="ppAmount" value="0.00">
                    <input type="hidden" name="currency_code" value="MXN">
                    <button type="submit" class="btn">Pagar con PayPal</button>
                </form>
            </div>
        </div>
    </div>
    <div id="lightbox" class="lightbox" role="dialog" aria-modal="true" aria-label="Lightbox de imagen">
        <img id="lbImg" src="" alt="">
        <button id="lbClose" class="x" aria-label="Cerrar lightbox">×</button>
        <button id="lbPrev" class="arrow prev" aria-label="Imagen anterior">‹</button>
        <button id="lbNext" class="arrow next" aria-label="Imagen siguiente">›</button>
    </div>
    <div id="legalModal" class="modal" role="dialog" aria-modal="true" aria-label="Modal de información legal">
        <div class="modal-card">
            <div class="modal-head">
                <strong id="legalTitle">Título</strong>
                <button class="close x" aria-label="Cerrar modal legal">×</button>
            </div>
            <div id="legalBody" class="modal-body"></div>
        </div>
    </div>
    <div id="emailModal" class="modal" role="dialog" aria-modal="true" aria-label="Modal de email">
        <div class="modal-card">
            <div class="modal-head">
                <strong>Contacto por Email</strong>
                <button class="close x" aria-label="Cerrar modal email">×</button>
            </div>
            <div class="modal-body">
                <p>hola@motourbano.shop</p>
                <button class="btn" data-action="copy-email">Copiar</button>
            </div>
        </div>
    </div>
    <div id="toast" style="position:fixed;bottom:20px;left:50%;transform:translateX(-50%);background:#000;color:#fff;padding:10px 20px;border-radius:10px;opacity:0;transition:opacity .3s,transform .3s;z-index:70;">Mensaje</div>
    <script defer>
        document.addEventListener('DOMContentLoaded', function() {
            const $ = (sel, ctx) => (ctx || document).querySelector(sel);
            const $$ = (sel, ctx) => Array.from((ctx || document).querySelectorAll(sel));
            const header = $('#siteHeader');
            const prodCards = $$('#gridProds .prod');
            const filterPills = $$('#filters .pill');
            const grid = $('#gridProds');
            const cartBtn = $('#cartBtn');
            const modal = $('#modal'), mTitle = $('#mTitle'), mPrice = $('#mPrice'),
                  mMain = $('#mMain'), mThumbs = $('#mThumbs'), mDesc = $('#mDesc'),
                  mPrev = $('#mPrev'), mNext = $('#mNext'),
                  qMinus = $('#qMinus'), qPlus = $('#qPlus'), qInput = $('#qInput'),
                  mAdd = $('#mAdd');
            const cartModal = $('#cart'), cBody = $('#cBody'), cTotal = $('#cTotal'), cClear = $('#cClear'),
                  ppAmount = $('#ppAmount'), ppBusiness = $('#ppBusiness');
            const lightbox = $('#lightbox'), lbImg = $('#lbImg'), lbClose = $('#lbClose'),
                  lbPrev = $('#lbPrev'), lbNext = $('#lbNext');
            const toast = $('#toast');
            let currentProduct = { images: [], index: 0, name: '', priceText: '', price: 0 };
            function updateHeaderUi() {
                if (!header) return;
                const scrolled = window.scrollY > 8;
                header.classList.toggle('is-scrolled', scrolled);
                document.documentElement.style.setProperty('--header-h', header.getBoundingClientRect().height + 'px');
            }
            function scrollToId(id) {
                const el = $(id);
                if (!el || !header) return;
                const headerH = header.getBoundingClientRect().height;
                window.scrollTo({ top: el.getBoundingClientRect().top + window.pageYOffset - headerH - 6, behavior: 'smooth' });
            }
            function applyFilter(cat) {
                filterPills.forEach(p => p.classList.toggle('is-active', p.dataset.cat === cat));
                prodCards.forEach(card => card.classList.toggle('hidden', !(cat === 'all' || card.dataset.cat === cat)));
                const visible = prodCards.filter(c => !c.classList.contains('hidden'));
                if (visible.length === 0) {
                    grid.innerHTML = '<p class="no-results">No hay productos en esta categoría.</p>';
                } else if (grid.querySelector('.no-results')) {
                    grid.removeChild(grid.querySelector('.no-results'));
                }
                scrollToId('#productos');
            }
            function openModal(modalEl) { if (modalEl) modalEl.classList.add('open'); }
            function closeModal(modalEl) { if (modalEl) modalEl.classList.remove('open'); }
            const MU_LEGAL = {
                envios: { title: 'Política de Envíos — MotoUrbano MX', body: '<p>Envíos a todo México mediante mensajería certificada. Tiempo estimado: <strong>10 a 20 días hábiles</strong> según tu zona.</p><p>Compartimos tu <strong>número de guía</strong> por correo para rastreo.</p><p>Si hay retrasos de paquetería, te acompañamos en todo momento.</p><p class="sub">Contacto: <a href="mailto:hola@motourbano.shop">hola@motourbano.shop</a></p>' },
                devoluciones: { title: 'Política de Devoluciones — MotoUrbano MX', body: '<p>Tienes <strong>14 días naturales</strong> desde la entrega para solicitar devolución.</p><p>El producto debe estar <strong>sin uso</strong> y con empaques/etiquetas completos.</p><p>Escríbenos a <a href="mailto:hola@motourbano.shop">hola@motourbano.shop</a> o por WhatsApp con tu <strong>número de pedido</strong>.</p><p>Tras validar, hacemos reembolso por el mismo medio de pago.</p>' },
                privacidad: { title: 'Aviso de Privacidad — MotoUrbano MX', body: '<p>Usamos tus datos para <strong>gestión de pedidos</strong>, atención y comunicaciones.</p><p>Compartimos lo mínimo con terceros (paquetería, pagos) o por obligación legal.</p><p>Derechos ARCO: <a href="mailto:hola@motourbano.shop">hola@motourbano.shop</a>.</p>' },
                terminos: { title: 'Términos y Condiciones — MotoUrbano MX', body: '<p>El uso del sitio implica aceptación de estos términos. Precios y disponibilidad pueden cambiar.</p><p>Imágenes ilustrativas. Si hay error o falta de inventario, se puede cancelar con reembolso íntegro.</p><p>Dudas: <a href="mailto:hola@motourbano.shop">hola@motourbano.shop</a>.</p>' }
            };
            function MU_openLegal(key) {
                const data = MU_LEGAL[key];
                if (!data) return;
                const modal = $('#legalModal');
                const body = $('#legalBody');
                const title = $('#legalTitle');
                if (!modal || !body || !title) return;
                title.textContent = data.title;
                body.innerHTML = data.body;  // Asumimos datos confiables, pero en producción sanitizar
                openModal(modal);
            }
            function MU_openMailModal() {
                const modal = $('#emailModal');
                if (modal) openModal(modal);
            }
            function MU_copyEmail() {
                const email = 'hola@motourbano.shop';
                navigator.clipboard?.writeText(email).then(() => showToast('Correo copiado'));
            }
            function getProductData(card) {
                const name = card.dataset.name || '';
                const priceText = card.dataset.price || '';
                const price = parseInt(priceText.replace(/[^0-9]/g, ''), 10) || 0;
                const mainImage = card.dataset.main || '';
                let gallery = [];
                try {
                    gallery = JSON.parse(card.dataset.gallery || '[]');
                } catch (e) {
                    console.error(`Error parsing gallery for ${name}:`, e);
                    gallery = [];
                }
                const images = [mainImage, ...gallery.filter(Boolean)];
                const desc = (card.dataset.desc || '').split('·').map(s => s.trim()).filter(Boolean);
                return { name, priceText, price, mainImage, images, desc };
            }
            function showImageInModal(idx) {
                if (!currentProduct.images.length) return;
                currentProduct.index = (idx + currentProduct.images.length) % currentProduct.images.length;
                const nextSrc = currentProduct.images[currentProduct.index];
                mMain.classList.add('is-loading');
                const img = new Image();
                img.src = nextSrc;
                img.onload = () => {
                    mMain.src = nextSrc;
                    mMain.alt = `${currentProduct.name} - Vista ${currentProduct.index + 1}`;
                    mMain.classList.remove('is-loading');
                    $$('#mThumbs img').forEach(t => t.classList.toggle('active', t.dataset.src === nextSrc));
                };
                img.onerror = () => {
                    mMain.src = 'img/placeholder.jpg';
                    mMain.alt = 'Imagen no disponible';
                    mMain.classList.remove('is-loading');
                };
            }
            function openProductModal(card) {
                currentProduct = getProductData(card);
                mTitle.textContent = currentProduct.name || 'Producto';
                mPrice.textContent = currentProduct.priceText || '';
                mMain.src = currentProduct.mainImage;
                mMain.alt = `${currentProduct.name} - Vista principal`;
                mThumbs.innerHTML = currentProduct.images.map((src, i) => {
                    return `<img data-src="${src}" src="${src}" alt="${currentProduct.name} - Vista ${i + 1}" loading="lazy" class="${i === 0 ? 'active' : ''}">`;
                }).join('');
                mDesc.innerHTML = currentProduct.desc.map(li => `<li>${li}</li>`).join('');
                qInput.value = 1;
                openModal(modal);
                currentProduct.images.slice(1).forEach(src => { const img = new Image(); img.src = src; });
            }
            function openLightbox(src, alt) {
                if (!lbImg || !lightbox) return;
                lbImg.src = src;
                lbImg.alt = alt || '';
                openModal(lightbox);
            }
            const STORAGE_KEY = 'mu_cart';
            const readCart = () => {
                try { return JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]'); } catch (e) { return []; }
            };
            const writeCart = items => localStorage.setItem(STORAGE_KEY, JSON.stringify(items));
            const cartSum = items => items.reduce((s, i) => s + i.price * i.qty, 0);
            function updateCartCount() {
                const count = readCart().reduce((s, i) => s + i.qty, 0);
                const cartCount = $('#cartCount');
                if (cartCount) cartCount.textContent = count;
            }
            function renderCart() {
                const items = readCart();
                if (!cBody) return;
                cBody.innerHTML = '';
                if (items.length === 0) {
                    const p = document.createElement('p');
                    p.className = 'sub';
                    p.textContent = 'Tu carrito está vacío.';
                    cBody.appendChild(p);
                } else {
                    items.forEach((i, idx) => {
                        const div = document.createElement('div');
                        div.className = 'cart-item';
                        const img = document.createElement('img');
                        img.src = i.img;
                        img.alt = i.name;
                        img.loading = 'lazy';
                        img.decoding = 'async';
                        div.appendChild(img);
                        const info = document.createElement('div');
                        const nameDiv = document.createElement('div');
                        nameDiv.style.fontWeight = '700';
                        nameDiv.textContent = i.name;
                        info.appendChild(nameDiv);
                        const priceDiv = document.createElement('div');
                        priceDiv.className = 'sub';
                        priceDiv.textContent = `$${i.price} MXN c/u`;
                        info.appendChild(priceDiv);
                        div.appendChild(info);
                        const actions = document.createElement('div');
                        actions.style.display = 'flex';
                        actions.style.alignItems = 'center';
                        actions.style.gap = '8px';
                        const qtyline = document.createElement('div');
                        qtyline.className = 'qtyline';
                        const minus = document.createElement('button');
                        minus.type = 'button';
                        minus.dataset.act = 'minus';
                        minus.dataset.idx = idx;
                        minus.textContent = '−';
                        minus.ariaLabel = 'Quitar uno';
                        qtyline.appendChild(minus);
                        const input = document.createElement('input');
                        input.type = 'number';
                        input.min = '1';
                        input.value = i.qty;
                        input.dataset.idx = idx;
                        input.dataset.act = 'input';
                        qtyline.appendChild(input);
                        const plus = document.createElement('button');
                        plus.type = 'button';
                        plus.dataset.act = 'plus';
                        plus.dataset.idx = idx;
                        plus.textContent = '+';
                        plus.ariaLabel = 'Añadir uno';
                        qtyline.appendChild(plus);
                        actions.appendChild(qtyline);
                        const delBtn = document.createElement('button');
                        delBtn.className = 'close';
                        delBtn.type = 'button';
                        delBtn.dataset.del = idx;
                        delBtn.textContent = 'Eliminar';
                        actions.appendChild(delBtn);
                        div.appendChild(actions);
                        cBody.appendChild(div);
                    });
                }
                const total = cartSum(items);
                if (cTotal) cTotal.textContent = `$${total} MXN`;
                if (ppAmount) ppAmount.value = total.toFixed(2);
                if (ppBusiness) ppBusiness.value = 'tu-correo-paypal@ejemplo.com';  // Reemplaza con real
            }
            function showToast(txt) {
                if (!toast) return;
                toast.textContent = txt || '';
                toast.style.opacity = '1';
                toast.style.transform = 'translateX(-50%) translateY(-6px)';
                setTimeout(() => {
                    toast.style.opacity = '0';
                    toast.style.transform = 'translateX(-50%)';
                }, 1400);
            }
            prodCards.forEach(card => {
                let gallery = [];
                try { gallery = JSON.parse(card.dataset.gallery || '[]'); } catch (e) { console.error(e); }
                const secondImageSrc = gallery[0] || null;
                if (!secondImageSrc) return;
                const img = new Image();
                img.src = secondImageSrc;
                img.onload = () => {
                    const wrap = card.querySelector('.img-wrap');
                    if (!wrap) return;
                    const h = document.createElement('img');
                    h.className = 'hover-img';
                    h.alt = `${card.dataset.name || ''} - Vista alternativa`;
                    h.loading = 'lazy';
                    h.decoding = 'async';
                    h.src = secondImageSrc;
                    wrap.appendChild(h);
                    card.classList.add('ready');
                };
            });
            window.addEventListener('scroll', updateHeaderUi, { passive: true });
            window.addEventListener('resize', updateHeaderUi);
            $$('.menu a[href^="#"]').forEach(a => a.addEventListener('click', e => {
                e.preventDefault();
                const id = a.getAttribute('href');
                if (id && id.length > 1) scrollToId(id);
            }));
            const filtersContainer = $('#filters');
            if (filtersContainer) filtersContainer.addEventListener('click', e => {
                const pill = e.target.closest('.pill');
                if (pill) applyFilter(pill.dataset.cat);
            });
            const categoriesContainer = $('#categorias .grid');
            if (categoriesContainer) categoriesContainer.addEventListener('click', e => {
                const tile = e.target.closest('.js-cat');
                if (tile) applyFilter(tile.dataset.cat);
            });
            document.body.addEventListener('click', e => {
                const card = e.target.closest('.prod');
                if (card && grid.contains(card)) {
                    openProductModal(card);
                    return;
                }
                if (e.target.closest('#cartBtn')) {
                    e.preventDefault();
                    renderCart();
                    openModal(cartModal);
                    return;
                }
                const closeButton = e.target.closest('.close, .x');
                if (closeButton) {
                    const modalToClose = closeButton.closest('.modal, .lightbox');
                    if (modalToClose) closeModal(modalToClose);
                    return;
                }
                const openModals = $$('.modal.open, .lightbox.open');
                openModals.forEach(modalEl => {
                    if (e.target === modalEl) closeModal(modalEl);
                });
                const legalLink = e.target.closest('[data-legal-key]');
                if (legalLink) {
                    e.preventDefault();
                    MU_openLegal(legalLink.dataset.legalKey);
                }
                const emailLink = e.target.closest('[data-action="open-email-modal"]');
                if (emailLink) {
                    e.preventDefault();
                    MU_openMailModal();
                }
                const copyEmailBtn = e.target.closest('[data-action="copy-email"]');
                if (copyEmailBtn) {
                    e.preventDefault();
                    MU_copyEmail();
                }
            });
            document.addEventListener('keydown', e => {
                if (e.key === 'Escape') {
                    $$('.modal.open, .lightbox.open').forEach(closeModal);
                }
            });
            if (mThumbs) mThumbs.addEventListener('click', e => {
                const img = e.target.closest('img');
                if (img) showImageInModal(currentProduct.images.indexOf(img.dataset.src));
            });
            if (mMain) mMain.addEventListener('click', () => openLightbox(mMain.src, mMain.alt));
            if (mPrev) mPrev.addEventListener('click', () => showImageInModal(currentProduct.index - 1));
            if (mNext) mNext.addEventListener('click', () => showImageInModal(currentProduct.index + 1));
            if (lbClose) lbClose.addEventListener('click', () => closeModal(lightbox));
            if (lbPrev) lbPrev.addEventListener('click', () => showImageInModal(currentProduct.index - 1));
            if (lbNext) lbNext.addEventListener('click', () => showImageInModal(currentProduct.index + 1));
            if (cClear) cClear.addEventListener('click', () => { writeCart([]); updateCartCount(); renderCart(); });
            if (cBody) {
                cBody.addEventListener('click', e => {
                    const btn = e.target.closest('button[data-act], button[data-del]');
                    if (!btn) return;
                    const idx = parseInt(btn.dataset.idx || btn.dataset.del, 10);
                    const items = readCart();
                    if (isNaN(idx) || !items[idx]) return;
                    if (btn.dataset.act === 'minus') items[idx].qty = Math.max(1, items[idx].qty - 1);
                    else if (btn.dataset.act === 'plus') items[idx].qty += 1;
                    else if (btn.dataset.del !== undefined) items.splice(idx, 1);
                    writeCart(items);
                    updateCartCount();
                    renderCart();
                });
                cBody.addEventListener('change', e => {
                    const input = e.target.closest('input[data-act="input"]');
                    if (!input) return;
                    const idx = parseInt(input.dataset.idx, 10);
                    const items = readCart();
                    if (isNaN(idx) || !items[idx]) return;
                    items[idx].qty = Math.max(1, parseInt(input.value, 10) || 1);
                    writeCart(items);
                    updateCartCount();
                    renderCart();
                });
            }
            if (qMinus) qMinus.addEventListener('click', () => { qInput.value = Math.max(1, parseInt(qInput.value) - 1); });
            if (qPlus) qPlus.addEventListener('click', () => { qInput.value = parseInt(qInput.value) + 1; });
            if (mAdd) mAdd.addEventListener('click', () => {
                const qty = Math.max(1, parseInt(qInput.value, 10) || 1);
                const items = readCart();
                const found = items.find(it => it.name === currentProduct.name);
                if (found) found.qty += qty;
                else items.push({ name: currentProduct.name, price: currentProduct.price, img: currentProduct.mainImage, qty });
                writeCart(items);
                updateCartCount();
                closeModal(modal);
                showToast('Añadido al carrito');
            });
            updateHeaderUi();
            updateCartCount();
            if (location.hash) setTimeout(() => scrollToId(location.hash), 50);
        });
    </script>
</body>
</html>
```
