<!doctype html>
<html lang="es-MX">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MotoUrbano MX — Accesorios urbanos para tu moto</title>
  <meta name="description" content="Accesorios urbanos para tu moto: fiables, precios claros y envío a todo México. Devoluciones en 14 días." />
  <meta name="theme-color" content="#ffffff" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="MotoUrbano MX" />
  <meta property="og:description" content="Accesorios urbanos para tu moto." />
  <meta property="og:image" content="https://leadradar.github.io/motorhub.mx/img/hero.jpg" />
  <link rel="icon" type="image/x-icon" href="favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png" />
  <link rel="manifest" href="site.webmanifest" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;700;800&display=swap" rel="stylesheet">

  <style>
    :root{ --bg:#ffffff; --elev:#ffffff; --ink:#111; --muted:#666; --line:#eee; --accent:#e10600; }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--ink);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
    img{display:block;max-width:100%;height:auto;-webkit-user-drag:none;user-drag:none}
    a{color:inherit;text-decoration:none}
    .container{max-width:1200px;margin:0 auto;padding:0 20px}
    .grid{display:grid;gap:16px}
    @media(min-width:700px){.grid.cols-2{grid-template-columns:repeat(2,1fr)}}
    @media(min-width:900px){.grid.cols-3{grid-template-columns:repeat(3,1fr)}.grid.cols-4{grid-template-columns:repeat(4,1fr)}.grid.cols-5{grid-template-columns:repeat(5,1fr)}}
    .card{background:var(--elev);border:1px solid var(--line);border-radius:18px;overflow:hidden}
    .shadow{box-shadow:0 10px 30px rgba(0,0,0,.08)}

    /* Header */
    header.site{position:sticky;top:0;z-index:40;background:#fff;border-bottom:1px solid var(--line)}
    .header-wrap{display:flex;flex-direction:column;align-items:center;gap:8px;padding:14px 0}
    .brand-stack{display:flex;flex-direction:column;align-items:center;gap:6px}
    .brand-stack img{height:84px;width:auto}
    .brand-title{font:800 22px/1 Poppins,system-ui;text-align:center}
    nav.menu{display:flex;flex-wrap:wrap;gap:16px;justify-content:center;margin-top:6px}
    nav.menu a{padding:8px 10px;border-radius:10px;color:#444}
    nav.menu a:hover{background:#f3f3f3;color:#111}
    #cartBtn{font-weight:700}

    /* Compensar header fijo */
    section{scroll-margin-top:220px}

    /* Hero */
    .hero{border-bottom:1px solid var(--line);background:#fff}
    .hero .wrap{display:flex;flex-direction:column;align-items:center;gap:10px;padding:38px 0}
    .hero .logo-big img{width:360px;height:auto}
    @media(min-width:1100px){.hero .logo-big img{width:400px}}
    @media(max-width:520px){.hero .logo-big img{width:220px}}
    h1{font-family:Poppins,system-ui;font-weight:800;letter-spacing:.2px;font-size:clamp(30px,5vw,52px);line-height:1.04;margin:.05em 0 .1em;text-align:center}
    .hero-sub{font-size:clamp(14px,2.2vw,18px);color:#444;margin:4px 0 10px;text-align:center}
    h2{font-size:clamp(22px,3.6vw,34px);margin:0 0 10px;text-align:center}
    .sub{color:var(--muted);text-align:center}
    .chips-row{display:flex;flex-wrap:wrap;gap:12px;align-items:center;justify-content:center;margin-top:14px}
    .chip{display:inline-flex;align-items:center;gap:8px;background:#fafafa;border:1px solid var(--line);color:#444;padding:8px 12px;border-radius:12px;white-space:nowrap}

    /* PayPal */
    .paypal-row{display:flex;justify-content:center;margin-top:14px}
    .pp-badge{display:inline-flex;align-items:center;gap:10px;background:#fff;border:1px solid var(--line);border-radius:999px;padding:10px 16px}
    .pp-badge img{height:22px;display:block}

    /* Categorías */
    #categorias h2,#categorias .sub{text-align:center}
    .tile{position:relative;border-radius:16px;overflow:hidden;border:1px solid var(--line);background:#fff;cursor:pointer}
    .tile img{width:100%;height:200px;object-fit:cover}
    .tile .label{position:absolute;left:50%;bottom:10px;transform:translateX(-50%);background:rgba(0,0,0,.55);padding:8px 10px;border-radius:10px;color:#fff;font-weight:800}

    /* Productos + filtros */
    #productos .filters{display:flex;justify-content:center;gap:10px;flex-wrap:wrap;margin:12px 0 6px}
    .pill{border:1px solid var(--line);background:#fafafa;border-radius:999px;padding:8px 12px;cursor:pointer}
    .pill.is-active{background:#111;color:#fff;border-color:#111}
    .prod{display:flex;flex-direction:column;cursor:pointer}
    .prod img{aspect-ratio:1/1;object-fit:cover;background:#f4f4f4}
    .prod .pad{padding:12px}
    .prod .title{font-weight:700;line-height:1.25;margin:0 0 8px;font-size:16px}
    .prod .meta{display:flex;justify-content:space-between;align-items:center}
    .price{font-weight:900;color:#111}
    .stars{color:#C99A10;font-size:13px}
    .hidden{display:none !important}

    /* Modal producto — compacto, con galería + flechas + swipe */
    .modal{position:fixed;inset:0;background:rgba(0,0,0,.5);display:none;align-items:center;justify-content:center;padding:16px;z-index:60}
    .modal.open{display:flex}
    .modal-card{background:#fff;border-radius:18px;max-width:920px;width:96%;max-height:92vh;display:flex;flex-direction:column;overflow:hidden;border:1px solid var(--line)}
    .modal-head{display:flex;justify-content:space-between;align-items:center;padding:10px 14px;border-bottom:1px solid var(--line)}
    .modal-title{font:700 18px/1.2 Poppins,system-ui}
    .modal-body{display:grid;gap:14px;padding:14px;overflow:auto}
    @media(min-width:900px){.modal-body{grid-template-columns:1.05fr .95fr}}
    .media-wrap{position:relative}
    .m-main{width:100%;max-height:48vh;object-fit:contain;border-radius:12px;background:#f7f7f7;cursor:zoom-in}
    .nav-arrow{position:absolute;top:50%;transform:translateY(-50%);background:#ffffffcc;border:1px solid var(--line);border-radius:12px;padding:8px 10px;cursor:pointer}
    .nav-arrow.prev{left:8px}
    .nav-arrow.next{right:8px}
    .thumbs{display:grid;grid-template-columns:repeat(4,1fr);gap:8px;margin-top:8px}
    .thumbs img{width:100%;height:70px;object-fit:cover;border-radius:10px;border:2px solid transparent;cursor:pointer;background:#fafafa}
    .thumbs img.active{border-color:#111}
    .close{border:none;background:#f3f3f3;border-radius:10px;padding:8px 10px;cursor:pointer}
    .qty{display:inline-flex;align-items:center;border:1px solid var(--line);border-radius:10px;overflow:hidden}
    .qty button{background:#f6f6f6;border:none;padding:8px 10px;cursor:pointer}
    .qty input{width:48px;text-align:center;border:none;padding:8px}
    .btn{display:inline-flex;align-items:center;gap:8px;border:1px solid #111;background:#111;color:#fff;border-radius:12px;padding:10px 14px;cursor:pointer}
    .btn.secondary{background:#fff;color:#111}

    /* Lightbox (zoom en grande + pinch zoom) */
    .lightbox{position:fixed;inset:0;background:rgba(0,0,0,.92);display:none;align-items:center;justify-content:center;z-index:80;touch-action:none}
    .lightbox.open{display:flex}
    .lightbox img{max-width:95vw;max-height:95vh;object-fit:contain;transform-origin:center center;transition:transform .06s linear}
    .lightbox .x{position:absolute;top:14px;right:14px;background:#ffffff22;color:#fff;border:1px solid #ffffff55;border-radius:10px;padding:8px 10px;cursor:pointer}
    .lightbox .arrow{position:absolute;top:50%;transform:translateY(-50%);background:#ffffff22;color:#fff;border:1px solid #ffffff55;border-radius:10px;padding:10px 12px;cursor:pointer}
    .lightbox .arrow.prev{left:14px}
    .lightbox .arrow.next{right:14px}

    /* Cart */
    .cart{position:fixed;inset:0;background:rgba(0,0,0,.5);display:none;align-items:center;justify-content:center;padding:16px;z-index:65}
    .cart.open{display:flex}
    .cart-card{background:#fff;border-radius:18px;max-width:760px;width:96%;max-height:92vh;display:flex;flex-direction:column;overflow:hidden;border:1px solid var(--line)}
    .cart-head{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;border-bottom:1px solid var(--line)}
    .cart-body{padding:12px 16px;overflow:auto}
    .cart-item{display:grid;grid-template-columns:auto 1fr auto;gap:10px;align-items:center;border-bottom:1px solid var(--line);padding:10px 0}
    .cart-item img{width:60px;height:60px;object-fit:cover;border-radius:10px}
    .cart-item .qtyline{display:inline-flex;align-items:center;border:1px solid var(--line);border-radius:10px;overflow:hidden}
    .cart-item .qtyline button{background:#f6f6f6;border:none;padding:6px 10px;cursor:pointer}
    .cart-item .qtyline input{width:44px;text-align:center;border:none;padding:6px}
    .cart-foot{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;border-top:1px solid var(--line);gap:10px;flex-wrap:wrap}

    /* Trust bar */
    .trustbar{display:flex;flex-wrap:wrap;justify-content:center;gap:10px}

    /* FAQ con más aire */
    #faq h2{margin-bottom:22px}
    #faq .card{margin-top:26px}
    #faq{padding-bottom:40px}

    /* Footer centrado */
    footer.site{margin-top:48px;border-top:1px solid var(--line);background:#fff}
    .footer-head{display:flex;flex-direction:column;align-items:center;gap:6px;padding:18px 0 6px}
    .footer-head img{height:52px;width:auto}
    .footer-name{font:800 18px/1.1 Poppins,system-ui;text-align:center}
    .footer-tag{color:#666;text-align:center;margin-top:2px}
    .footer-grid{display:grid;gap:18px;padding:20px 0}
    @media(min-width:900px){.footer-grid{grid-template-columns:repeat(2,1fr)}}
    .footer-col{text-align:center}
    .footer-col h3{margin:0 0 6px;font:700 16px/1.2 Poppins,system-ui;text-align:center}
    .footer-legal{display:flex;gap:8px;align-items:center;justify-content:center;flex-wrap:nowrap;overflow:auto;white-space:nowrap}
    .footer-legal .dot{opacity:.35}
    .copy{padding-bottom:20px;color:#666;text-align:center}

    /* WhatsApp flotante (icono centrado perfecto) */
    .floating-wa{
      position:fixed;right:16px;bottom:16px;background:#25D366;
      width:64px;height:64px;border-radius:50%;
      display:flex;align-items:center;justify-content:center;
      border:2px solid #fff;
      box-shadow:0 10px 30px rgba(0,0,0,.18);z-index:45;cursor:pointer
    }
    .floating-wa svg{width:36px;height:36px;display:block}
    .floating-wa svg *{vector-effect:non-scaling-stroke}
    /* Toast */
    .toast{position:fixed;left:50%;bottom:24px;transform:translateX(-50%);background:#111;color:#fff;padding:10px 14px;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,.2);opacity:0;pointer-events:none;transition:opacity .25s, transform .25s;z-index:90}
    .toast.show{opacity:1;transform:translateX(-50%) translateY(-6px)}
  </style>
</head>
<body>
  <!-- HEADER -->
  <header class="site">
    <div class="container header-wrap">
      <div class="brand-stack">
        <img src="img/logo.png" alt="Logo MotoUrbano"/>
        <div class="brand-title">MotoUrbano MX</div>
      </div>
      <nav class="menu" aria-label="Principal">
        <a href="#inicio">Inicio</a>
        <a href="#categorias">Categorías</a>
        <a href="#productos">Productos</a>
        <a href="#faq">FAQ</a>
        <a href="#contacto">Contacto</a>
        <a href="#" id="cartBtn">Carrito (<span id="cartCount">0</span>)</a>
      </nav>
    </div>
  </header>

  <!-- HERO -->
  <section id="inicio" class="hero">
    <div class="container wrap">
      <div class="logo-big">
        <img src="img/logo.png" alt="Logo MotoUrbano" decoding="async" fetchpriority="high"/>
      </div>
      <h1>Accesorios para moto urbana</h1>
      <p class="hero-sub">Accesorios urbanos fiables, precios claros y envío a todo México.</p>

      <div class="chips-row">
        <span class="chip">💳 Pagos seguros</span>
        <span class="chip">🚚 Envío a todo México</span>
        <span class="chip">↩️ 14 días devolución</span>
        <span class="chip">🚚 Envío gratis</span>
      </div>

      <div class="paypal-row">
        <span class="pp-badge" title="Pago seguro con PayPal" aria-label="Pago seguro con PayPal">
          <img src="https://upload.wikimedia.org/wikipedia/commons/b/b5/PayPal.svg" alt="PayPal"/>
        </span>
      </div>
    </div>
  </section>

  <!-- CATEGORÍAS -->
  <section id="categorias" class="container" style="padding:26px 0">
    <h2>Categorías</h2>
    <p class="sub">Encuentra rápido lo que necesitas para el día a día.</p>

    <div class="grid cols-2 cols-5">
      <div class="tile shadow js-cat" data-cat="soportes" title="Soportes de móvil">
        <img src="img/cat-soportes.jpg" alt="Soportes de móvil" loading="lazy"/><span class="label">Soportes</span>
      </div>
      <div class="tile shadow js-cat" data-cat="guantes" title="Guantes">
        <img src="img/cat-guantes.jpg" alt="Guantes" loading="lazy"/><span class="label">Guantes</span>
      </div>
      <div class="tile shadow js-cat" data-cat="chalecos" title="Chalecos reflectantes">
        <img src="img/cat-chalecos.jpg" alt="Chalecos" loading="lazy"/><span class="label">Chalecos</span>
      </div>
      <div class="tile shadow js-cat" data-cat="bolsas" title="Bolsas">
        <img src="img/cat-bolsas.jpg" alt="Bolsas" loading="lazy"/><span class="label">Bolsas</span>
      </div>
      <div class="tile shadow js-cat" data-cat="rinoneras" title="Riñoneras">
        <img src="img/cat-rinoneras.jpg" alt="Riñoneras" loading="lazy"/><span class="label">Riñoneras</span>
      </div>
    </div>
  </section>

  <!-- TRUST BAR -->
  <section class="container" style="padding:6px 0 16px">
    <div class="card shadow" style="padding:12px">
      <div class="trustbar">
        <span class="chip">🛡️ Compra protegida</span>
        <span class="chip">📦 Tracking del pedido</span>
        <span class="chip">☎️ Atención por WhatsApp</span>
      </div>
    </div>
  </section>

  <!-- PRODUCTOS -->
  <section id="productos" class="container" style="padding:26px 0">
    <h2>Productos</h2>
    <p class="sub">Selección pensada para la ciudad.</p>

    <div class="filters" id="filters">
      <button class="pill is-active" data-cat="all">Todos</button>
      <button class="pill" data-cat="soportes">Soportes</button>
      <button class="pill" data-cat="guantes">Guantes</button>
      <button class="pill" data-cat="chalecos">Chalecos</button>
      <button class="pill" data-cat="bolsas">Bolsas</button>
      <button class="pill" data-cat="rinoneras">Riñoneras</button>
    </div>

    <div class="grid cols-2 cols-4" id="gridProds" style="margin-top:12px">
      <!-- Soporte -->
      <article class="card prod shadow"
        data-cat="soportes"
        data-name="Soporte manillar antivibración"
        data-price="$699 MXN"
        data-desc="Sujeción firme · Absorción de vibraciones · Compatible con la mayoría de manillares"
        data-main="img/cat-soportes.jpg"
        data-gallery='["img/soporte-antivibracion-01.jpg","img/soporte-antivibracion-02.jpg","img/soporte-antivibracion-03.jpg","img/soporte-antivibracion-04.jpg"]'>
        <img src="img/cat-soportes.jpg" alt="Soporte manillar antivibración" decoding="async"/>
        <div class="pad">
          <div class="title">Soporte manillar antivibración</div>
          <div class="meta">
            <span class="price">$699 MXN</span>
            <span class="stars">★★★★★ <span style="opacity:.7">(demo)</span></span>
          </div>
        </div>
      </article>

      <!-- Guantes -->
      <article class="card prod shadow"
        data-cat="guantes"
        data-name="Guantes impermeables táctiles"
        data-price="$649 MXN"
        data-desc="Impermeables · Dedos táctiles · Refuerzos en palma"
        data-main="img/cat-guantes.jpg"
        data-gallery='["img/guantes-urbanos-verano-01.jpg","img/guantes-urbanos-verano-02.jpg"]'>
        <img src="img/cat-guantes.jpg" alt="Guantes impermeables táctiles" decoding="async"/>
        <div class="pad">
          <div class="title">Guantes impermeables táctiles</div>
          <div class="meta">
            <span class="price">$649 MXN</span>
            <span class="stars">★★★★★ <span style="opacity:.7">(demo)</span></span>
          </div>
        </div>
      </article>

      <!-- Chaleco -->
      <article class="card prod shadow"
        data-cat="chalecos"
        data-name="Chaleco reflectante"
        data-price="$299 MXN"
        data-desc="Alta visibilidad · Ajuste sencillo · Ligero"
        data-main="img/cat-chalecos.jpg"
        data-gallery='["img/chaleco-fosforito-01.jpg","img/chaleco-fosforito-02.jpg"]'>
        <img src="img/cat-chalecos.jpg" alt="Chaleco reflectante" decoding="async"/>
        <div class="pad">
          <div class="title">Chaleco reflectante</div>
          <div class="meta">
            <span class="price">$299 MXN</span>
            <span class="stars">★★★★★ <span style="opacity:.7">(demo)</span></span>
          </div>
        </div>
      </article>

      <!-- Riñonera -->
      <article class="card prod shadow"
        data-cat="rinoneras"
        data-name="Riñonera impermeable"
        data-price="$549 MXN"
        data-desc="Impermeable · Cierre seguro · Bolsillos internos"
        data-main="img/cat-rinoneras.jpg"
        data-gallery='["img/rinonera-impermeable-01.jpg","img/rinonera-impermeable-02.jpg","img/rinonera-impermeable-03.jpg","img/rinonera-impermeable-04.jpg","img/rinonera-impermeable-05.jpg"]'>
        <img src="img/cat-rinoneras.jpg" alt="Riñonera impermeable" decoding="async"/>
        <div class="pad">
          <div class="title">Riñonera impermeable</div>
          <div class="meta">
            <span class="price">$549 MXN</span>
            <span class="stars">★★★★★ <span style="opacity:.7">(demo)</span></span>
          </div>
        </div>
      </article>

      <!-- Bolsa trasera -->
      <article class="card prod shadow"
        data-cat="bolsas"
        data-name="Bolsa trasera impermeable"
        data-price="$799 MXN"
        data-desc="Montaje rápido · Resistente al agua · Capacidad ampliable"
        data-main="img/cat-bolsas.jpg"
        data-gallery='["img/bolsa-trasera-impermeable-01.jpg","img/bolsa-trasera-impermeable-02.jpg"]'>
        <img src="img/cat-bolsas.jpg" alt="Bolsa trasera impermeable" decoding="async"/>
        <div class="pad">
          <div class="title">Bolsa trasera impermeable</div>
          <div class="meta">
            <span class="price">$799 MXN</span>
            <span class="stars">★★★★★ <span style="opacity:.7">(demo)</span></span>
          </div>
        </div>
      </article>
    </div>
  </section>

  <!-- FAQ -->
  <section id="faq" class="container" style="padding:26px 0 36px">
    <h2>Preguntas frecuentes</h2>
    <div class="card shadow" style="padding:12px">
      <details style="background:#fff;border:1px solid var(--line);border-radius:12px;margin:10px 0;padding:10px">
        <summary style="cursor:pointer;font-weight:700">¿Cuánto tarda el envío?</summary>
        <div class="sub" style="margin-top:8px">Entre 10 y 20 días laborables según la zona. Recibirás emails con el estado del pedido.</div>
      </details>
      <details style="background:#fff;border:1px solid var(--line);border-radius:12px;margin:10px 0;padding:10px">
        <summary style="cursor:pointer;font-weight:700">¿Cómo funcionan las devoluciones?</summary>
        <div class="sub" style="margin-top:8px">Tienes 14 días desde la recepción. Escríbenos por WhatsApp con tu número de pedido.</div>
      </details>
      <details style="background:#fff;border:1px solid var(--line);border-radius:12px;margin:10px 0;padding:10px">
        <summary style="cursor:pointer;font-weight:700">¿Qué métodos de pago aceptan?</summary>
        <div class="sub" style="margin-top:8px">PayPal y tarjetas. Pronto añadiremos más opciones.</div>
      </details>
      <details style="background:#fff;border:1px solid var(--line);border-radius:12px;margin:10px 0;padding:10px">
        <summary style="cursor:pointer;font-weight:700">¿Puedo pedir factura?</summary>
        <div class="sub" style="margin-top:8px">Sí. Escríbenos por WhatsApp con tus datos fiscales y el número de pedido.</div>
      </details>
      <details style="background:#fff;border:1px solid var(--line);border-radius:12px;margin:10px 0;padding:10px">
        <summary style="cursor:pointer;font-weight:700">¿Los productos tienen garantía?</summary>
        <div class="sub" style="margin-top:8px">Garantía de 6 meses por defectos de fábrica. Si pasa algo, lo resolvemos.</div>
      </details>
      <details style="background:#fff;border:1px solid var(--line);border-radius:12px;margin:10px 0;padding:10px">
        <summary style="cursor:pointer;font-weight:700">¿Cómo consulto el estatus del pedido?</summary>
        <div class="sub" style="margin-top:8px">Te enviaremos el tracking por email. Si lo necesitas, pídenoslo por WhatsApp.</div>
      </details>
    </div>
  </section>

  <!-- FOOTER -->
  <footer id="contacto" class="site">
    <div class="container footer-head">
      <img src="img/logo.png" alt="MotoUrbano"/><!-- sin width/height para no aplastar -->
      <div class="footer-name">MotoUrbano MX</div>
      <div class="footer-tag">Accesorios urbanos, prácticos y fiables. Envío a todo México.</div>
    </div>

    <div class="container footer-grid">
      <div class="footer-col">
        <h3>Legal</h3>
        <div class="footer-legal">
          <a href="#envios">Envíos</a><span class="dot">·</span>
          <a href="#devoluciones">Devoluciones</a><span class="dot">·</span>
          <a href="#privacidad">Privacidad</a><span class="dot">·</span>
          <a href="#terminos">Términos</a>
        </div>
      </div>
      <div class="footer-col">
        <h3>Atención</h3>
        <p class="sub">Lun–Vie · 10:00–18:00</p>
        <p class="sub">Email: <a href="mailto:hola@motourbano.shop">hola@motourbano.shop</a></p>
        <p class="sub">WhatsApp: <a href="https://wa.me/520000000000" target="_blank" rel="noopener">+52 000 000 0000</a></p>
      </div>
    </div>

    <div class="container copy">
      <small>© <span id="year"></span> MotoUrbano MX. Todos los derechos reservados.</small>
    </div>
  </footer>

  <!-- WhatsApp flotante (SVG centrado y limpio) -->
  <a class="floating-wa" href="https://wa.me/520000000000" target="_blank" rel="noopener" aria-label="WhatsApp Soporte" title="WhatsApp">
    <svg viewBox="0 0 256 256" preserveAspectRatio="xMidYMid meet" aria-hidden="true" focusable="false" role="img">
      <path fill="#FFFFFF" d="M.7 256l17.6-65.8A126.4 126.4 0 0 1 0 128.1C0 57.4 57.3 0 128 0s128 57.4 128 128.1S198.7 256 128 256c-21.3 0-41.6-4.5-60.2-13.3L.7 256zm72.7-41c17.9 10.6 35.1 17 54.6 17 55.6 0 100.7-44.9 100.7-100.1S183.6 31.9 128 31.9 27.3 76.8 27.3 132c0 23.8 8.3 45.8 22.3 63.5l-10.2 37 34-6.5zM199 152.4c-.8-1.3-2.5-2-5.2-3.4-2.7-1.3-16-8-18.5-8.9-2.5-.9-4.2-1.4-6 1.3-1.8 2.7-7.1 9.1-8.7 10.9-1.6 1.8-3.2 2.1-6 1-2.8-1.3-11.7-4.3-22.1-13.3-8.2-7-13.1-15.8-14.7-18.4-1.6-2.6-.2-4.2 1.1-5.5 1.3-1.3 2.9-3.1 4.2-4.7 1.3-1.6 1.8-2.8 2.8-4.6 1-1.8.5-3.4-.1-4.7-.6-1.3-6-14.6-8.3-20.1-2.2-5.4-4.5-4.8-6.2-4.9l-5.1-.1c-1.8 0-4.8.8-7.1 3.4-2.5 2.7-9.4 9.4-9.4 22.9 0 13.5 9.7 26.8 11 28.6 1.2 1.8 19.1 31.2 46.1 43.6 6.4 2.9 11.3 4.7 15.3 5.9 6.4 2.1 12.2 1.8 16.8 1.2 5.1-.8 15.8-6.8 18-13.3 2.2-6.6 2.2-12.2 1.5-13.6z"/>
    </svg>
  </a>

  <!-- MODAL de producto -->
  <div class="modal" id="modal" aria-hidden="true">
    <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="mTitle">
      <div class="modal-head">
        <div class="modal-title" id="mTitle">Producto</div>
        <button class="close" id="mClose" aria-label="Cerrar">✕</button>
      </div>
      <div class="modal-body">
        <div class="media-wrap">
          <img id="mMain" class="m-main" src="" alt="" />
          <button class="nav-arrow prev" id="mPrev" aria-label="Anterior">‹</button>
          <button class="nav-arrow next" id="mNext" aria-label="Siguiente">›</button>
          <div id="mThumbs" class="thumbs"></div>
        </div>
        <div>
          <div class="sub" id="mPrice" style="font-size:22px;margin:0 0 12px"></div>
          <ul id="mDesc" class="sub" style="text-align:left;margin:0 0 16px 18px"></ul>
          <div style="display:flex;align-items:center;gap:12px;margin-bottom:14px">
            <div class="qty">
              <button type="button" id="qMinus">−</button>
              <input type="number" id="qInput" value="1" min="1" />
              <button type="button" id="qPlus">+</button>
            </div>
            <button class="btn" id="mAdd">Añadir al carrito</button>
          </div>
          <div class="sub" style="font-size:12px">Pago seguro con PayPal · Envío a todo México · Devoluciones 14 días</div>
        </div>
      </div>
    </div>
  </div>

  <!-- LIGHTBOX (zoom) -->
  <div class="lightbox" id="lightbox" aria-hidden="true">
    <button class="x" id="lbClose" aria-label="Cerrar">✕</button>
    <button class="arrow prev" id="lbPrev" aria-label="Anterior">‹</button>
    <img id="lbImg" src="" alt="Imagen ampliada"/>
    <button class="arrow next" id="lbNext" aria-label="Siguiente">›</button>
  </div>

  <!-- MODAL Carrito -->
  <div class="cart" id="cart" aria-hidden="true">
    <div class="cart-card" role="dialog" aria-modal="true" aria-labelledby="cartTitle">
      <div class="cart-head">
        <strong id="cartTitle">Carrito</strong>
        <button class="close" id="cClose" aria-label="Cerrar">✕</button>
      </div>
      <div class="cart-body" id="cBody"></div>
      <div class="cart-foot">
        <strong>Total: <span id="cTotal">$0 MXN</span></strong>
        <div style="display:flex;gap:8px;align-items:center;flex-wrap:wrap">
          <button class="btn secondary" id="cClear" type="button">Vaciar</button>
          <!-- PayPal Standard (reemplaza el correo) -->
          <form id="ppForm" action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank">
            <input type="hidden" name="cmd" value="_xclick">
            <input type="hidden" name="business" id="ppBusiness" value="">
            <input type="hidden" name="item_name" value="Pedido MotoUrbano MX">
            <input type="hidden" name="amount" id="ppAmount" value="0.00">
            <input type="hidden" name="currency_code" value="MXN">
            <button type="submit" class="btn">Pagar con PayPal / Tarjeta</button>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- TOAST -->
  <div class="toast" id="toast">Añadido al carrito</div>

  <script>
    document.addEventListener('DOMContentLoaded', function(){
      var $ = function(sel,ctx){ return (ctx||document).querySelector(sel); };
      var $$= function(sel,ctx){ return [].slice.call((ctx||document).querySelectorAll(sel)); };

      // Año dinámico
      var y = $('#year'); if(y) y.textContent = new Date().getFullYear();

      // --------- Filtros + Categorías ----------
      var filterPills = $$('#filters .pill');
      var prodCards   = $$('#gridProds [data-cat]');
      function applyFilter(cat){
        filterPills.forEach(function(p){ p.classList.toggle('is-active', p.dataset.cat===cat); });
        prodCards.forEach(function(card){ card.classList.toggle('hidden', !(cat==='all' || card.dataset.cat===cat)); });
        var prodSection = $('#productos'); if(prodSection){ prodSection.scrollIntoView({behavior:'smooth', block:'start'}); }
      }
      filterPills.forEach(function(p){ p.addEventListener('click', function(){ applyFilter(p.dataset.cat); }); });
      $$('.js-cat').forEach(function(tile){ tile.addEventListener('click', function(){ applyFilter(tile.dataset.cat); }); });

      // --------- Modal de producto con galería ----------
      var modal   = $('#modal');
      var mTitle  = $('#mTitle');
      var mPrice  = $('#mPrice');
      var mMain   = $('#mMain');
      var mThumbs = $('#mThumbs');
      var mPrev   = $('#mPrev');
      var mNext   = $('#mNext');
      var mClose  = $('#mClose');
      var qMinus  = $('#qMinus');
      var qPlus   = $('#qPlus');
      var qInput  = $('#qInput');
      var mAdd    = $('#mAdd');
      var mDesc   = $('#mDesc');

      var lightbox = $('#lightbox');
      var lbImg    = $('#lbImg');
      var lbClose  = $('#lbClose');
      var lbPrev   = $('#lbPrev');
      var lbNext   = $('#lbNext');

      var toast    = $('#toast');

      var current = { images:[], index:0, name:'', priceText:'', price:0 };

      function bullets(text){ return (text||'').split('·').map(function(s){return s.trim();}).filter(Boolean); }
      function setActiveThumb(){
        $$('#mThumbs img').forEach(function(t){ t.classList.toggle('active', t.src===mMain.src); });
      }
      function showImage(idx){
        if(!current.images.length) return;
        current.index = (idx+current.images.length)%current.images.length;
        mMain.src = current.images[current.index]; mMain.alt = current.name;
        setActiveThumb();
      }

      function openModal(card){
        var gallery = [];
        try{ gallery = JSON.parse(card.getAttribute('data-gallery')||'[]'); }catch(e){ gallery = []; }
        current = {
          name: card.dataset.name,
          priceText: card.dataset.price,
          price: parseInt((card.dataset.price||'').replace(/[^0-9]/g,''),10) || 0,
          main: card.getAttribute('data-main') || '',
          images: [],
          index:0
        };
        current.images = [current.main].concat(gallery.filter(Boolean));
        mTitle.textContent = current.name || 'Producto';
        mPrice.textContent = current.priceText || '';
        showImage(0);
        mThumbs.innerHTML = current.images.map(function(src,i){
          return '<img src="'+src+'" alt="Vista '+(i+1)+' '+current.name+'" loading="lazy">';
        }).join('');
        setActiveThumb();

        mThumbs.onclick = function(e){
          var img = e.target.closest('img'); if(!img) return;
          var idx = current.images.indexOf(img.src);
          if(idx>-1){ showImage(idx); openLightbox(img.src, img.alt); }
        };
        mMain.onclick = function(){ openLightbox(mMain.src, mMain.alt); };
        mPrev.onclick = function(){ showImage(current.index-1); };
        mNext.onclick = function(){ showImage(current.index+1); };

        // swipe
        var sx=0, sy=0, dx=0, dy=0;
        mMain.addEventListener('touchstart', function(ev){ if(ev.touches.length!==1) return; sx=ev.touches[0].clientX; sy=ev.touches[0].clientY; }, {passive:true});
        mMain.addEventListener('touchmove',  function(ev){ if(ev.touches.length!==1) return; dx=ev.touches[0].clientX-sx; dy=ev.touches[0].clientY-sy; }, {passive:true});
        mMain.addEventListener('touchend',   function(){ if(Math.abs(dx)>40 && Math.abs(dy)<40){ if(dx<0) showImage(current.index+1); else showImage(current.index-1);} dx=dy=0; }, {passive:true});

        mDesc.innerHTML = bullets(card.dataset.desc||'').map(function(li){return '<li>'+li+'</li>';}).join('');
        qInput.value = 1;
        modal.classList.add('open');
      }
      function closeModal(){ modal.classList.remove('open'); }

      prodCards.forEach(function(card){ card.addEventListener('click', function(){ openModal(card); }); });
      mClose.addEventListener('click', closeModal);
      modal.addEventListener('click', function(e){ if(e.target===modal) closeModal(); });
      qMinus.addEventListener('click', function(){ qInput.value = Math.max(1, (parseInt(qInput.value,10)||1)-1 ); });
      qPlus .addEventListener('click', function(){ qInput.value = (parseInt(qInput.value,10)||1)+1; });

      // --------- Lightbox (zoom + pinch) ----------
      function openLightbox(src, alt){ lbImg.src=src; lbImg.alt=alt||''; scale=1; tx=0; ty=0; applyTransform(); lightbox.classList.add('open'); }
      function closeLightbox(){ lightbox.classList.remove('open'); }
      lbClose.addEventListener('click', closeLightbox);
      lbPrev.addEventListener('click', function(){ showImage(current.index-1); lbImg.src=current.images[current.index]; });
      lbNext.addEventListener('click', function(){ showImage(current.index+1); lbImg.src=current.images[current.index]; });
      lightbox.addEventListener('click', function(e){ if(e.target===lightbox) closeLightbox(); });
      document.addEventListener('keydown', function(e){
        if(lightbox.classList.contains('open')){
          if(e.key==='Escape') closeLightbox();
          if(e.key==='ArrowLeft'){ lbPrev.click(); }
          if(e.key==='ArrowRight'){ lbNext.click(); }
        }
        if(modal.classList.contains('open')){
          if(e.key==='ArrowLeft') showImage(current.index-1);
          if(e.key==='ArrowRight') showImage(current.index+1);
        }
      });

      var scale=1, tx=0, ty=0;
      function applyTransform(){ lbImg.style.transform = 'translate('+tx+'px,'+ty+'px) scale('+scale+')'; }
      lightbox.addEventListener('wheel', function(e){
        e.preventDefault();
        var delta = e.deltaY>0? -0.1: 0.1;
        scale = Math.max(1, Math.min(5, scale+delta));
        applyTransform();
      }, {passive:false});

      var touches = [];
      var startDist=0, startScale=1, startX=0, startY=0;
      lightbox.addEventListener('touchstart', function(e){
        if(!lightbox.classList.contains('open')) return;
        touches = e.touches;
        if(touches.length===2){
          startDist = Math.hypot(touches[0].clientX-touches[1].clientX, touches[0].clientY-touches[1].clientY);
          startScale = scale;
        }else if(touches.length===1){
          startX = touches[0].clientX - tx;
          startY = touches[0].clientY - ty;
        }
      }, {passive:true});
      lightbox.addEventListener('touchmove', function(e){
        if(!lightbox.classList.contains('open')) return;
        if(e.touches.length===2){
          var d = Math.hypot(e.touches[0].clientX-e.touches[1].clientX, e.touches[0].clientY-e.touches[1].clientY);
          scale = Math.max(1, Math.min(5, startScale * (d/startDist)));
          applyTransform();
        }else if(e.touches.length===1 && scale>1){
          tx = e.touches[0].clientX - startX;
          ty = e.touches[0].clientY - startY;
          applyTransform();
        }
      }, {passive:true});
      var lastTap=0;
      lightbox.addEventListener('touchend', function(){
        var now = Date.now();
        if(now-lastTap<300){ scale=1; tx=0; ty=0; applyTransform(); }
        lastTap=now;
      });

      // --------- Carrito (localStorage) ----------
      var cartBtn   = $('#cartBtn');
      var cartModal = $('#cart');
      var cClose    = $('#cClose');
      var cBody     = $('#cBody');
      var cTotal    = $('#cTotal');
      var cClear    = $('#cClear');
      var ppForm    = $('#ppForm');
      var ppAmount  = $('#ppAmount');
      var ppBusiness= $('#ppBusiness');

      var PAYPAL_BUSINESS = 'tu-correo-paypal@ejemplo.com'; // <-- cámbialo por tu PayPal
      ppBusiness.value = PAYPAL_BUSINESS;

      var cartCount = $('#cartCount');
      var STORAGE_KEY = 'mu_cart';
      function readCart(){ try{ return JSON.parse(localStorage.getItem(STORAGE_KEY)||'[]'); }catch(e){ return []; } }
      function writeCart(items){ localStorage.setItem(STORAGE_KEY, JSON.stringify(items)); }
      function cartSum(items){ return items.reduce(function(s,i){return s + i.price*i.qty;}, 0); }
      function updateCount(){
        var items = readCart();
        var n = items.reduce(function(s,i){return s+i.qty;},0);
        cartCount.textContent = n;
      }

      function renderCart(){
        var items = readCart();
        if(items.length===0){
          cBody.innerHTML = '<p class="sub">Tu carrito está vacío.</p>';
        }else{
          cBody.innerHTML = items.map(function(i,idx){
            return '<div class="cart-item">'
              + '<img src="'+i.img+'" alt="'+i.name+'" loading="lazy">'
              + '<div><div style="font-weight:700">'+i.name+'</div>'
              + '<div class="sub">$'+i.price+' MXN c/u</div></div>'
              + '<div style="display:flex;align-items:center;gap:8px">'
              + '  <div class="qtyline">'
              + '    <button data-act="minus" data-idx="'+idx+'">−</button>'
              + '    <input type="number" min="1" value="'+i.qty+'" data-idx="'+idx+'" data-act="input" />'
              + '    <button data-act="plus" data-idx="'+idx+'">+</button>'
              + '  </div>'
              + '  <button class="close" data-del="'+idx+'">Eliminar</button>'
              + '</div>'
              + '</div>';
          }).join('');
        }
        var total = cartSum(items);
        cTotal.textContent = '$'+total+' MXN';
        ppAmount.value = Number(total).toFixed(2);
      }

      function openCart(){ renderCart(); cartModal.classList.add('open'); }
      function closeCart(){ cartModal.classList.remove('open'); }

      cartBtn.addEventListener('click', function(e){ e.preventDefault(); openCart(); });
      cClose .addEventListener('click', closeCart);
      cartModal.addEventListener('click', function(e){ if(e.target===cartModal) closeCart(); });

      // eventos de cantidad / eliminar
      cBody.addEventListener('click', function(e){
        var del = e.target.closest('[data-del]');
        if(del){
          var idx = parseInt(del.dataset.del,10);
          var items = readCart(); items.splice(idx,1);
          writeCart(items); updateCount(); renderCart();
          return;
        }
        var actBtn = e.target.closest('button[data-act]');
        if(actBtn){
          var idx = parseInt(actBtn.dataset.idx,10);
          var items = readCart();
          if(!items[idx]) return;
          if(actBtn.dataset.act==='minus'){ items[idx].qty = Math.max(1, (items[idx].qty||1)-1); }
          if(actBtn.dataset.act==='plus'){ items[idx].qty = (items[idx].qty||1)+1; }
          writeCart(items); updateCount(); renderCart();
        }
      });
      cBody.addEventListener('change', function(e){
        var inp = e.target.closest('input[data-act="input"]');
        if(!inp) return;
        var idx = parseInt(inp.dataset.idx,10);
        var items = readCart();
        if(!items[idx]) return;
        var v = Math.max(1, parseInt(inp.value,10)||1);
        items[idx].qty = v;
        writeCart(items); updateCount(); renderCart();
      });

      cClear.addEventListener('click', function(){ writeCart([]); updateCount(); renderCart(); });

      // Añadir al carrito (acumula si ya existe el mismo producto + misma imagen)
      var toast = $('#toast');
      function showToast(){ toast.classList.add('show'); setTimeout(function(){ toast.classList.remove('show'); }, 1400); }
      mAdd.addEventListener('click', function(){
        var qty = Math.max(1, parseInt($('#qInput').value,10)||1);
        var items = readCart();
        var name = $('#mTitle').textContent;
        var price= parseInt(($('#mPrice').textContent||'').replace(/[^0-9]/g,''),10)||0;
        var img  = $('#mMain').src;
        var found = items.find(function(it){ return it.name===name && it.img===img && it.price===price; });
        if(found){ found.qty += qty; } else { items.push({ name:name, price:price, img:img, qty:qty }); }
        writeCart(items); updateCount(); openCart(); closeModal(); showToast();
      });

      // Scroll suave del menú
      $$('.menu a[href^="#"]').forEach(function(a){
        a.addEventListener('click', function(e){
          e.preventDefault();
          var id = a.getAttribute('href');
          var target = document.querySelector(id);
          if(target){ target.scrollIntoView({behavior:'smooth', block:'start'}); }
        });
      });

      // PayPal merchant (edítalo)
      var ppBusiness = $('#ppBusiness'); if(ppBusiness) ppBusiness.value = 'tu-correo-paypal@ejemplo.com';

      // Contador inicial
      updateCount();
    });
  </script>
</body>
</html>
